# The Speaker

The Speaker is an Alexa skill that taps into the Destiny 2 API, letting you know what Xur currently has for sale.  This was a project for my coding bootcamp, and not meant to be maintained, nor be feature heavy.  I may or may not update in the future.


### Directory Breakdown

  - **index.js** - The production code that lives in an AWS Lambda
  - **bigDump.js** - A script I wrote to grab the limitted data I needed for this skill from destiny.plumbing
  - **data.json** - The results of bigDump.js
  - **localSpeaker.js** - The sandbox I built to test the script via console
  

### index.js

The majority of this file is generated by an Alexa Code Generator tool provided by [amazon][codeg].

I opted to do all of the leg work when the skill first launches, so that when the user asks for xur's items, there's no delay in providing the response.  If I were to expand this skill, I may have to rethink that, or break it up into chunks.  As it stands now, the API and the local .json file are hit  right away, and all the getXurItems_Handler does is assign the results to the **say** variable. 

I found that if I ran the API hit during the xur command I would run into ASYNC issues, and alexa would give back the say variable before it was fully ready.  Moving to the start of the app alleviated that issue, while simultaneously removing any wait/load time.


  [codeg]: <http://alexa.codegenerator.s3-website-us-east-1.amazonaws.com/>